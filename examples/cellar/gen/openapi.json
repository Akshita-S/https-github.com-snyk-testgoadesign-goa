{"swagger":"2.0","info":{"title":"Cellar Service","description":"HTTP service for managing your wine cellar","version":""},"host":"localhost:8080","paths":{"/sommelier":{"post":{"tags":["sommelier"],"summary":"pick sommelier","operationId":"sommelier#pick","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/Criteria"}}],"responses":{"200":{"schema":{"$ref":"#/definitions/StoredBottleResponseBodyCollection"}}},"schemes":["http"]}},"/storage":{"get":{"tags":["storage"],"summary":"list storage","description":"List all stored bottles","operationId":"storage#list","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/Empty"}}],"responses":{"200":{"schema":{"$ref":"#/definitions/StoredBottleResponseBodyCollection"}}},"schemes":["http"]},"post":{"tags":["storage"],"summary":"add storage","description":"Add new bottle and return its ID.","operationId":"storage#add","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/Bottle"}}],"responses":{"201":{}},"schemes":["http"]}},"/storage/{id}}":{"get":{"tags":["storage"],"summary":"show storage","description":"Show bottle by ID","operationId":"storage#show","parameters":[{"name":"id","in":"path","description":"ID of bottle to show","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ShowPayload"}}],"responses":{"200":{"schema":{"$ref":"#/definitions/ShowResponseBody"}}},"schemes":["http"]},"delete":{"tags":["storage"],"summary":"remove storage","description":"Remove bottle from storage","operationId":"storage#remove","parameters":[{"name":"id","in":"path","description":"ID of bottle to remove","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/RemovePayload"}}],"responses":{"204":{}},"schemes":["http"]}}},"definitions":{"Bottle":{"title":"Bottle","type":"object","properties":{"composition":{"type":"array","items":{"$ref":"#/definitions/Component"},"description":"Composition is the list of grape varietals and associated percentage.","example":[{"percentage":86,"varietal":"rbc"},{"percentage":7,"varietal":"4d0"}]},"description":{"type":"string","description":"Description of bottle","example":"yso","maxLength":2000},"name":{"type":"string","description":"Name of bottle","example":"0p6","maxLength":100},"rating":{"type":"uint32","description":"Rating of bottle from 1 (worst) to 5 (best)","example":4,"minimum":1,"maximum":5},"vintage":{"type":"uint32","description":"Vintage of bottle","example":1977,"minimum":1900,"maximum":2020},"winery":{"$ref":"#/definitions/Winery"}},"description":"Bottle describes a bottle of wine to be stored.","example":{"composition":[{"percentage":46,"varietal":"fat"},{"percentage":22,"varietal":"2xq"}],"description":"6r6","name":"med","rating":4,"vintage":1937,"winery":{"country":"Ms. Emile Kshlerin","name":"Explicabo eveniet dolore a minima.","region":"Bridie O'Reilly","url":"Malachi Rippin"}},"required":["name","winery","vintage"]},"Component":{"title":"Component","type":"object","properties":{"percentage":{"type":"uint32","description":"Percentage of varietal in wine","example":42,"minimum":1,"maximum":100},"varietal":{"type":"string","description":"Grape varietal","example":"ao8","pattern":"[A-Za-z' ]+","maxLength":100}},"example":{"percentage":4,"varietal":"10f"},"required":["varietal"]},"ComponentResponseBody":{"title":"ComponentResponseBody","type":"object","properties":{"percentage":{"type":"uint32","description":"Percentage of varietal in wine","example":13,"minimum":1,"maximum":100},"varietal":{"type":"string","description":"Grape varietal","example":"tn7","pattern":"[A-Za-z' ]+","maxLength":100}},"example":{"percentage":73,"varietal":"gqd"},"required":["varietal"]},"Criteria":{"title":"Criteria","type":"object","properties":{"name":{"type":"string","description":"Name of bottle to pick","example":"Accusamus voluptatem et."},"varietal":{"type":"array","items":{"type":"string","example":"Amet facere consequatur ut explicabo libero."},"description":"Varietals in preference order","example":["Sunt deleniti et.","Nisi soluta ex.","Accusamus ut rerum dicta quo."]},"winery":{"type":"string","description":"Winery of bottle to pick","example":"Optio aspernatur modi."}},"description":"Criteria described a set of criteria used to pick a bottle. All criteria are optional, at least one must be provided.","example":{"name":"Molestiae eaque et.","varietal":["Consequatur recusandae et vitae libero."],"winery":"Non soluta officiis tempora."}},"Empty":{"title":"Empty","type":"object","description":"Empty represents empty values","example":{}},"RemovePayload":{"title":"RemovePayload","type":"object","properties":{"id":{"type":"string","description":"ID of bottle to remove","example":"Officiis voluptatem omnis."}},"example":{"id":"Natus optio praesentium cum."},"required":["id"]},"ShowPayload":{"title":"ShowPayload","type":"object","properties":{"id":{"type":"string","description":"ID of bottle to show","example":"Quae deleniti fugit."}},"example":{"id":"Dolor est consequuntur sed."},"required":["id"]},"ShowResponseBody":{"title":"Mediatype identifier: application/vnd.cellar.stored-bottle; view=default","type":"object","properties":{"composition":{"type":"array","items":{"$ref":"#/definitions/Component"},"description":"Composition is the list of grape varietals and associated percentage.","example":[{"percentage":17,"varietal":"gqh"},{"percentage":97,"varietal":"0bo"},{"percentage":27,"varietal":"m5q"}]},"description":{"type":"string","description":"Description of bottle","example":"nkj","maxLength":2000},"id":{"type":"string","description":"ID is the unique id of the bottle.","example":"Nobis accusamus qui totam minus nihil iure."},"name":{"type":"string","description":"Name of bottle","example":"h0s","maxLength":100},"rating":{"type":"uint32","description":"Rating of bottle from 1 (worst) to 5 (best)","example":3,"minimum":1,"maximum":5},"vintage":{"type":"uint32","description":"Vintage of bottle","example":1963,"minimum":1900,"maximum":2020},"winery":{"$ref":"#/definitions/Winery"}},"description":"ShowResponseBody result type (default view) (default view)","example":{"composition":[{"percentage":37,"varietal":"zfr"}],"description":"vdc","id":"Et qui in est eveniet.","name":"you","rating":3,"vintage":1958,"winery":{"country":"Ms. Jalen VonRueden","name":"Dolore atque suscipit.","region":"Rubye Sanford","url":"Dr. Moses Keebler"}},"required":["id","name","winery","vintage"]},"StoredBottleResponseBody":{"title":"Mediatype identifier: application/vnd.cellar.stored-bottle; view=default","type":"object","properties":{"composition":{"type":"array","items":{"$ref":"#/definitions/ComponentResponseBody"},"description":"Composition is the list of grape varietals and associated percentage.","example":[{"percentage":77,"varietal":"vmp"},{"percentage":62,"varietal":"0mn"}]},"description":{"type":"string","description":"Description of bottle","example":"1hw","maxLength":2000},"id":{"type":"string","description":"ID is the unique id of the bottle.","example":"Delectus vel earum doloribus."},"name":{"type":"string","description":"Name of bottle","example":"9zs","maxLength":100},"rating":{"type":"uint32","description":"Rating of bottle from 1 (worst) to 5 (best)","example":3,"minimum":1,"maximum":5},"vintage":{"type":"uint32","description":"Vintage of bottle","example":1964,"minimum":1900,"maximum":2020},"winery":{"$ref":"#/definitions/WineryResponseBody"}},"description":"A StoredBottle describes a bottle retrieved by the storage service. (default view) (default view) (default view) (default view)","example":{"composition":[{"percentage":40,"varietal":"y3u"},{"percentage":79,"varietal":"w0w"}],"description":"b3u","id":"Dolorum et.","name":"3lg","rating":4,"vintage":1935,"winery":{"country":"Arnulfo Hudson","name":"Quam qui labore.","region":"Ashton Balistreri","url":"Ms. Gudrun Labadie"}},"required":["id","name","winery","vintage"]},"StoredBottleResponseBodyCollection":{"title":"Mediatype identifier: application/vnd.cellar.stored-bottle; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/StoredBottleResponseBody"},"description":"StoredBottleResponseBodyCollection is the result type for an array of StoredBottleResponseBody (default view)","example":[{"composition":[{"percentage":46,"varietal":"4p9"},{"percentage":86,"varietal":"e1q"}],"description":"uzi","id":"Incidunt recusandae.","name":"a3x","rating":4,"vintage":1980,"winery":{"country":"Lillie Nienow","name":"Et sunt sit dolor magnam dolores.","region":"Serena Erdman Sr.","url":"Anastacio Carroll III"}},{"composition":[{"percentage":48,"varietal":"q4u"},{"percentage":65,"varietal":"f5t"},{"percentage":51,"varietal":"h2w"}],"description":"bh2","id":"Ut iusto aut officia rerum harum qui.","name":"xch","rating":3,"vintage":1929,"winery":{"country":"Ms. Frieda Tremblay","name":"Rerum ut libero tempore optio corporis quam.","region":"Ms. Astrid Bechtelar","url":"Monica Lehner"}},{"composition":[{"percentage":96,"varietal":"hc9"},{"percentage":57,"varietal":"tto"},{"percentage":63,"varietal":"q39"}],"description":"asw","id":"Nulla architecto magni eos tempora sapiente.","name":"eyi","rating":1,"vintage":1906,"winery":{"country":"Queen Larson","name":"Tempora nobis enim eligendi.","region":"Tatum Powlowski V","url":"Hermann Mitchell Sr."}}]},"Winery":{"title":"Mediatype identifier: winery; view=default","type":"object","properties":{"country":{"type":"string","description":"Country of winery","example":"Felix Berge","pattern":"(?i)[a-z '\\.]+"},"name":{"type":"string","description":"Name of winery","example":"Officia tenetur."},"region":{"type":"string","description":"Region of winery","example":"Madonna Windler","pattern":"(?i)[a-z '\\.]+"},"url":{"type":"string","description":"Winery website URL","example":"Jermey Aufderhar","pattern":"(?i)^(https?|ftp)://[^\\s/$.?#].[^\\s]*$"}},"description":"Winery result type (default view) (default view)","example":{"country":"Lina Dooley","name":"Ducimus doloribus.","region":"Anna Gibson II","url":"Felicia Little I"},"required":["name","region","country"]},"WineryResponseBody":{"title":"Mediatype identifier: winery; view=default","type":"object","properties":{"country":{"type":"string","description":"Country of winery","example":"Dr. Mia Greenfelder","pattern":"(?i)[a-z '\\.]+"},"name":{"type":"string","description":"Name of winery","example":"Omnis quae suscipit."},"region":{"type":"string","description":"Region of winery","example":"Luther Herman","pattern":"(?i)[a-z '\\.]+"},"url":{"type":"string","description":"Winery website URL","example":"Terrence Schmidt","pattern":"(?i)^(https?|ftp)://[^\\s/$.?#].[^\\s]*$"}},"description":"WineryResponseBody result type (default view) (default view) (default view) (default view) (default view) (default view)","example":{"country":"Murl Fadel","name":"Sequi blanditiis dolore laudantium repellat perspiciatis iure.","region":"Mr. Oceane Kohler","url":"Stanton Steuber MD"},"required":["name","region","country"]}}}