# v2

This branch is work in progress for goa v2.

v2 brings a host of fixes and has a cleaner more composable overall design. Most
notably the DSL engine assumes less about the DSL and is thus more generic. The
top level design package is also hugely simplified to focus solely on the core
DSL expressions.

The import path for goa v2 has changed from `github.com/goadesign/goa` to
`goa.design/goa.v2`.

## Multiple Transport Support

The new top level `rest` package implement the DSL, design objects, code
generation and runtime support for HTTP/REST APIs. The REST DSL is built on top
of the core DSL package and add transport specific keywords to describe aspects
specific to HTTP requests and responses. This structure makes it possible to add
support for other transports especially gRPC.
See
[goa v2 Design Requirements](https://github.com/goadesign/goa/blob/v2/REQ_DESIGN.md).

## New Data Types

The primitive types now include `Int32`, `Int64`, `UInt32`, `UInt64`, `Float32`,
`Float64` and `Bytes`. This makes it possible to support transports such as gRPC
but also makes REST interface definitions crisper. The v1 types `Integer` and
`Float` have been removed in favor of these new types.

## Composable Code Generation

Code generation now follows a 2-phase process where the first phase produces a
set of writers each exposing templates that can be further modified prior to
running the last phase which generates the final artefacts. This makes it
possible for plugins to alter the code generated by the built-in code
generators, see
the
[Code Generation Requirements](https://github.com/goadesign/goa/blob/v2/REQ_CODEGEN.md).

## Separation of Concern

The generated code produced by `goagen` v2 implements a much stronger separation
of concern between the transport and service layers. This makes it possible to
easily expose the same endpoints via different transport mechanisms such as HTTP
and gRPC. See the
[account example](https://github.com/goadesign/goa/tree/v2/examples/account)
which illustrates the new generated code structure.
