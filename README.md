# v2

This branch is work in progress for goa v2.

v2 brings a host of fixes and has a cleaner more composable overall design. Most notably the DSL
engine assumes less about the DSL and is thus more generic. The top level design package is also
hugely simplified to focus solely on the core DSL expressions.

The import path for goa v2 has changed from `github.com/goadesign/goa` to `goa.design/goa.v2`.

## gRPC Support

The new top level `rest` and `rpc` packages implement the DSL, design objects, code generation and
runtime support for REST and gRPC respectively. The DSLs build on top of the core DSL package to add
transport specific keywords such as request path information for HTTP. See the [goa v2 Design
Principles](https://github.com/goadesign/goa/blob/v2/DESIGN_PRINCIPLES.md).

## New Data Types

The primitive types now include `Int32`, `Int64`, `UInt32`, `UInt64`, `Float32`, `Float64` and
`Bytes` making it possible to support gRPC but also helping with making REST interface definitions
crisper. The v1 types `Integer` and `Float` have been removed in favor of these new types.

## Composable Code Generation

Code generation now follows a 2 phases process where the first phase produces a set of writers each
exposing templates that can be further modified prior to running the last phase which generates the
final artefacts. This makes it possible for plugins to alter the code generated by the built-in code
generators, see the [Code Generation
Principles](https://github.com/goadesign/goa/blob/v2/CODEGEN_PRINCIPLES.md).

## Separation of Concern

The generated code produced by `goagen` v2 implements a much stronger separation of concerns where
the transport specific logic is encapsulated in a different layer than the actual service code. This
makes it possible to easily expose the same endpoints via different transport mechanisms such as the
built-in HTTP and gRPC support. See
[GENERATED.md](https://github.com/goadesign/goa/blob/v2/GENERATED.md) for examples showing the new
generated code structure.
